(function(k){function u(a){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=a;this._areaWidth=a._screenWidth;this._areaHeight=a._screenHeight;this._size=a._vertSize;this._delay=a._vertDelay;this.init()}function v(a){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=a;this._areaWidth=a._screenWidth;this._areaHeight=a._screenHeight;this._size=a._horzSize;this._delay=a._horzDelay;this.init()}function p(a){this._$blockArr;this._$blocks;this._arr;this._numRows;
this._numCols;this._total;this._intervalId;this._rotator=a;this._areaWidth=a._screenWidth;this._areaHeight=a._screenHeight;this._size=a._blockSize;this._delay=a._blockDelay;this.init()}function f(a,b){this._screenWidth=isNaN(b.width)?"auto":s(b.width,825);this._screenHeight=isNaN(b.height)?"auto":s(b.height,300);this._margin=z(t(b.button_margin,b.margin),4);this._globalEffect=t(b.transition,b.effect);this._duration=s(t(b.transition_speed,b.duration),M);this._globalDelay=s(b.delay,N);this._rotate=
b.auto_start;this._cpOutside="undefined"!=typeof b.cpanel_position?"outside"===b.cpanel_position:b.outside_cpanel;this._cpAlign=b.cpanel_align.toUpperCase();this._thumbWidth=s(b.thumb_width,24);this._thumbHeight=s(b.thumb_height,24);this._buttonWidth=s(b.button_width,24);this._buttonHeight=s(b.button_height,24);this._tooltipWidth=isNaN(b.tooltip_width)?"auto":s(b.tooltip_width,50);this._tooltipHeight=isNaN(b.tooltip_height)?"auto":s(b.tooltip_height,50);this._bgImg=b.background_image;this._bgRepeat=
b.background_repeat;this._bgPosition=b.background_position;this._displayPlayBtn=b.display_playbutton;this._displayTimer=b.display_timer;this._cpMouseover=window.Touch?!1:t(b.cpanel_mouseover,b.cpanel_onmouseover);this._textMousover=window.Touch?!1:t(b.text_mouseover,b.text_onmouseover);this._pauseMouseover=window.Touch?!1:t(b.mouseover_pause,b.pause_onmouseover);this._selectMouseover=window.Touch?!1:t(b.mouseover_select,b.select_onmouseover);this._buttonsMouseover=window.Touch?!1:b.dbuttons_onmouseover;
this._tipType=J(b.tooltip_type,["none","text","image"],"none");this._tooltipDelay=z(b.tooltip_delay,0);this._textEffect=b.text_effect;this._textDuration=s(b.text_duration,500);this._textEasing=b.text_easing;this._textDelay=z(b.text_delay,0);this._textSync=b.text_sync;this._playOnce=b.play_once;this._autoCenter=t(b.auto_center,b.center_image);this._easing=b.easing;this._timerAlign=b.timer_align.toLowerCase();this._shuffle=b.shuffle;this._mousewheelScroll=t(b.mousewheel_scroll,b.mousewheel);this._swipe=
b.swipe;this._vertSize=s(t(b.vert_size,b.vslice_size),G);this._horzSize=s(t(b.horz_size,b.hslice_size),G);this._blockSize=s(b.block_size,O);this._vertDelay=s(t(b.vstripe_delay,b.vslice_delay),75);this._horzDelay=s(t(b.hstripe_delay,b.hslice_delay),75);this._blockDelay=s(b.block_delay,25);this._preload=b.preload;this._cssTransition=b.css_transition;this._thumbType="undefined"!=typeof b.display_thumbs?b.display_thumbs?"undefined"!=typeof b.display_thumbimg&&b.display_thumbimg?"image":"undefined"!=typeof b.display_numbers&&
b.display_numbers?"number":"empty":"none":J(b.thumb_type,["none","empty","image","number","text"],"none");this._dbuttonsType="undefined"!=typeof b.display_dbuttons?b.display_dbuttons?"undefined"!=typeof b.display_side_buttons&&b.display_side_buttons?"large":"small":"none":J(b.dbuttons_type,["none","large","small"],"none");this._numItems;this._currIndex;this._prevIndex;this._delay;this._vStripes;this._hStripes;this._blocks;this._timerId;this._blockEffect;this._hStripeEffect;this._vStripeEffect;this._dir;
this._cpVertical;this._zIndex;this._syncId;this._layerId;this._layerDelay;this._cssTrsnLayer;this._cssTrsn;this._slideTransition;this._verticalSlide;this._startX;this._startY;this._swipeDist;this._scrolling;this._$rotator;this._$screen;this._$strip;this._$mainLink;this._$layers;this._$preloader;this._$cpWrapper;this._$cpanel;this._$thumbPanel;this._$list;this._$thumbs;this._$buttonPanel;this._$playBtn;this._$sPrev;this._$sNext;this._$timer;this._$tooltip;this._$items;this._$contentBoxes;this._$rotator=
this.getRotator(a,"banner-rotator");"undefined"!=typeof this._$rotator?this.init():(this._$rotator=this.getRotator(a,"wt-rotator"),"undefined"!=typeof this._$rotator&&(this._$rotator.removeClass("wt-rotator"),this._$rotator.hasClass("banner-rotator")||this._$rotator.addClass("banner-rotator"),this.init()))}function A(){return!1}function s(a,b){a=parseInt(a);return!isNaN(a)&&0<a?a:b}function z(a,b){a=parseInt(a);return!isNaN(a)&&0<=a?a:b}function J(a,b,d){for(var e=0;e<b.length;e++)if(b[e]==a)return a;
return d}function t(a,b){return"undefined"!=typeof a?a:b}function H(a,b){return-1!==a.indexOf(b,a.length-b.length)}function K(a){return/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&new Number(RegExp.$1)<=a?!0:!1}function C(a){for(var b=a.length,d=0;d<b;d++){var e=Math.floor(Math.random()*b),h=a[d];a[d]=a[e];a[e]=h}}var c=0,l={TL:c++,TC:c++,TR:c++,BL:c++,BC:c++,BR:c++,LT:c++,LC:c++,LB:c++,RT:c++,RC:c++,RB:c++},c=0,g={"block.top":c,blockExpandDown:c++,"block.bottom":c,blockExpandUp:c++,"block.left":c,
blockExpandRight:c++,"block.right":c,blockExpandLeft:c++,"diag.fade":c,diagonalFade:c++,"diag.exp":c,diagonalExpand:c++,"rev.diag.fade":c,reverseDiagonalFade:c++,"rev.diag.exp":c,reverseDiagonalExpand:c++,"block.fade":c,blockRandomFade:c++,"block.exp":c,blockRandomExpand:c++,"block.drop":c,blockRandomDrop:c++,"block.top.zz":c,zigZagDown:c++,"block.bottom.zz":c,zigZagUp:c++,"block.left.zz":c,zigZagRight:c++,"block.right.zz":c,zigZagLeft:c++,"spiral.in":c,spiralIn:c++,"spiral.out":c,spiralOut:c++,"vert.tl":c,
sliceDownRight:c++,"vert.tr":c,sliceDownLeft:c++,"vert.bl":c,sliceUpRight:c++,"vert.br":c,sliceUpLeft:c++,"fade.left":c,sliceFadeRight:c++,"fade.right":c,sliceFadeLeft:c++,"alt.left":c,sliceAltRight:c++,"alt.right":c,sliceAltLeft:c++,"blinds.left":c,blindsRight:c++,"blinds.right":c,blindsLeft:c++,"vert.random.fade":c,verticalSliceRandomFade:c++,"horz.tl":c,sliceRightDown:c++,"horz.tr":c,sliceLeftDown:c++,"horz.bl":c,sliceRightUp:c++,"horz.br":c,sliceLeftUp:c++,"fade.top":c,sliceFadeDown:c++,"fade.bottom":c,
sliceFadeUp:c++,"alt.top":c,sliceAltDown:c++,"alt.bottom":c,sliceAltUp:c++,"blinds.top":c,blindsDown:c++,"blinds.bottom":c,blindsUp:c++,"horz.random.fade":c,horizontalSliceRandomFade:c++,none:c++,fade:c++,crossFade:c++,"h.slide":c,horizontalSlide:c++,"v.slide":c,verticalSlide:c++,random:c++},Q=c,c=0,r={none:c++,fade:c++,down:c,expandDown:c++,right:c,expandRight:c++,up:c,expandUp:c++,left:c,expandLeft:c++,moveDown:c++,moveRight:c++,moveUp:c++,moveLeft:c++},O=75,G=50,N=5E3,M=800,R=/MSIE (\d+\.\d+);/.test(navigator.userAgent),
I=K(7),q=[];q.linear="cubic-bezier(0.250, 0.250, 0.750, 0.750)";q[""]=q.swing="cubic-bezier(0.250, 0.100, 0.250, 1.000)";q.easeInQuad="cubic-bezier(0.550, 0.085, 0.680, 0.530)";q.easeOutQuad="cubic-bezier(0.250, 0.460, 0.450, 0.940)";q.easeInOutQuad="cubic-bezier(0.455, 0.030, 0.515, 0.955)";q.easeInCubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)";q.easeOutCubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)";q.easeInOutCubic="cubic-bezier(0.645, 0.045, 0.355, 1.000)";q.easeInQuart="cubic-bezier(0.895, 0.030, 0.685, 0.220)";
q.easeOutQuart="cubic-bezier(0.165, 0.840, 0.440, 1.000)";q.easeInOutQuart="cubic-bezier(0.770, 0.000, 0.175, 1.000)";q.easeInQuint="cubic-bezier(0.755, 0.050, 0.855, 0.060)";q.easeOutQuint="cubic-bezier(0.230, 1.000, 0.320, 1.000)";q.easeInOutQuint="cubic-bezier(0.860, 0.000, 0.070, 1.000)";q.easeInSine="cubic-bezier(0.470, 0.000, 0.745, 0.715)";q.easeOutSine="cubic-bezier(0.390, 0.575, 0.565, 1.000)";q.easeInOutSine="cubic-bezier(0.445, 0.050, 0.550, 0.950)";q.easeInExpo="cubic-bezier(0.950, 0.050, 0.795, 0.035)";
q.easeOutExpo="cubic-bezier(0.190, 1.000, 0.220, 1.000)";q.easeInOutExpo="cubic-bezier(1.000, 0.000, 0.000, 1.000)";q.easeInCirc="cubic-bezier(0.600, 0.040, 0.980, 0.335)";q.easeOutCirc="cubic-bezier(0.075, 0.820, 0.165, 1.000)";q.easeInOutCirc="cubic-bezier(0.785, 0.135, 0.150, 0.860)";q.easeInBack="cubic-bezier(0.600, -0.280, 0.735, 0.045)";q.easeOutBack="cubic-bezier(0.175, 0.885, 0.320, 1.275)";q.easeInOutBack="cubic-bezier(0.680, -0.550, 0.265, 1.550)";var F={transition:"transitionend",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"},P={transition:"transition",MozTransition:"-moz-transition",WebkitTransition:"-webkit-transition"},w=function(a,b){var d=["Moz","Webkit"];b=b||document.documentElement;var e=b.style,h;if("string"==typeof e[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var n=0,D=d.length;n<D;n++)if(h=d[n]+a,"string"==typeof e[h])return h;return!1}("transition");u.prototype.init=function(){this._total=Math.ceil(this._areaWidth/this._size);250<this._total&&(this._size=
Math.ceil(this._areaWidth/250),this._total=Math.ceil(this._areaWidth/this._size));for(var a="",b=0;b<this._total;b++)a+="<div class='vpiece' id='"+b+"' style='left:"+b*this._size+"px; height:"+this._areaHeight+"px'></div>";this._rotator.addToScreen(a);this._$stripes=this._rotator._$screen.find("div.vpiece");this._arr=this._$stripes.toArray();!1!==w&&!1!==this._rotator._cssTrsn?k(this).bind("trsn",this.cssAnimate).bind("randTrsn",this.cssRandom).bind("clearTrsn",this.cssClear):k(this).bind("trsn",
this.jsAnimate).bind("randTrsn",this.jsRandom).bind("clearTrsn",this.jsClear)};u.prototype.clear=function(){k(this).trigger("clearTrsn")};u.prototype.jsClear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(!0).css({"z-index":2,opacity:0})};u.prototype.cssClear=function(){this._$stripes.unbind(F[w]).cssTransitionStop(!1).css({"z-index":2,opacity:0,display:"none"})};u.prototype.displayContent=function(a,b,d,e){this.setPieces(a,b);b==g.verticalSliceRandomFade?k(this).trigger("randTrsn",
[a,d,e]):this.animate(a,b,d,e)};u.prototype.setPieces=function(a,b){switch(b){case g.sliceDownRight:case g.sliceDownLeft:this.setVertPieces(a,-this._areaHeight,1,this._size,!1);break;case g.sliceUpRight:case g.sliceUpLeft:this.setVertPieces(a,this._areaHeight,1,this._size,!1);break;case g.sliceAltRight:case g.sliceAltLeft:this.setVertPieces(a,0,1,this._size,!0);break;case g.blindsRight:case g.blindsLeft:this.setVertPieces(a,0,1,0,!1);break;default:this.setVertPieces(a,0,0,this._size,!1)}};u.prototype.setVertPieces=
function(a,b,d,e,h){var n=a.attr("src"),D=0,m=0;this._rotator._autoCenter&&(D=(this._areaHeight-a.height())/2,m=(this._areaWidth-a.width())/2);for(a=0;a<this._total;a++){var c=this._$stripes.eq(a),k=-a*this._size+m;h&&(b=0==a%2?-this._areaHeight:this._areaHeight);c.css({background:"url('"+n+"') no-repeat",backgroundPosition:k+"px "+D+"px",opacity:d,top:b,width:e,"z-index":3})}};u.prototype.animate=function(a,b,d,e){var h,n;switch(b){case g.sliceDownRight:case g.sliceUpRight:case g.sliceFadeRight:case g.blindsRight:case g.sliceAltRight:b=
0;h=this._total-1;n=1;break;default:b=this._total-1,h=0,n=-1}k(this).trigger("trsn",[a,d,e,b,h,n])};u.prototype.jsAnimate=function(a,b,d,e,h,n,D){var c=this;this._intervalId=setInterval(function(){c._$stripes.eq(h).animate({top:0,opacity:1,width:c._size},d,e,function(){k(this).attr("id")==n&&c._rotator.showContent(b)});h==n&&(clearInterval(c._intervalId),c._intervalId=null);h+=D},this._delay)};u.prototype.cssAnimate=function(a,b,d,e,h,n,c){var m=this;a=0;for(this._$stripes.show();;){this._$stripes.eq(h).cssTransition({top:0,
opacity:1,width:this._size},d,e,a,function(){k(this).attr("id")==n&&m._rotator.showContent(b)});if(h==n)break;h+=c;a+=this._delay}};u.prototype.jsRandom=function(a,b,d,e){var h=this;C(this._arr);var n=0,c=0;this._intervalId=setInterval(function(){k(h._arr[n++]).animate({opacity:1},d,e,function(){++c==h._total&&h._rotator.showContent(b)});n==h._total&&(clearInterval(h._intervalId),h._intervalId=null)},this._delay)};u.prototype.cssRandom=function(a,b,d,e){var h=this,n=0;C(this._arr);this._$stripes.show();
for(a=0;a<=this._total;a++)k(this._arr[a]).cssTransition({opacity:1},d,e,a*this._delay,function(){++n==h._total&&h._rotator.showContent(b)})};v.prototype.init=function(){this._total=Math.ceil(this._areaHeight/this._size);250<this._total&&(this._size=Math.ceil(this._areaHeight/250),this._total=Math.ceil(this._areaHeight/this._size));for(var a="",b=0;b<this._total;b++)a+="<div class='hpiece' id='"+b+"' style='top:"+b*this._size+"px; width:"+this._areaWidth+"px'>\x3c!-- --\x3e</div>";this._rotator.addToScreen(a);
this._$stripes=this._rotator._$screen.find("div.hpiece");this._arr=this._$stripes.toArray();!1!==w&&!1!==this._rotator._cssTrsn?k(this).bind("trsn",this.cssAnimate).bind("randTrsn",this.cssRandom).bind("clearTrsn",this.cssClear):k(this).bind("trsn",this.jsAnimate).bind("randTrsn",this.jsRandom).bind("clearTrsn",this.jsClear)};v.prototype.clear=function(){k(this).trigger("clearTrsn")};v.prototype.jsClear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(!0).css({"z-index":2,
opacity:0})};v.prototype.cssClear=function(){this._$stripes.unbind(F[w]).cssTransitionStop(!1).css({"z-index":2,opacity:0,display:"none"})};v.prototype.displayContent=function(a,b,d,e){this.setPieces(a,b);b==g.horizontalSliceRandomFade?k(this).trigger("randTrsn",[a,d,e]):this.animate(a,b,d,e)};v.prototype.setPieces=function(a,b){switch(b){case g.sliceLeftDown:case g.sliceLeftUp:this.setHorzPieces(a,this._areaWidth,1,this._size,!1);break;case g.sliceRightDown:case g.sliceRightUp:this.setHorzPieces(a,
-this._areaWidth,1,this._size,!1);break;case g.sliceAltDown:case g.sliceAltUp:this.setHorzPieces(a,0,1,this._size,!0);break;case g.blindsDown:case g.blindsUp:this.setHorzPieces(a,0,1,0,!1);break;default:this.setHorzPieces(a,0,0,this._size,!1)}};v.prototype.setHorzPieces=function(a,b,d,e,h){var n=a.attr("src"),c=0,m=0;this._rotator._autoCenter&&(c=(this._areaHeight-a.height())/2,m=(this._areaWidth-a.width())/2);for(a=0;a<this._total;a++){var k=this._$stripes.eq(a),g=-a*this._size+c;h&&(b=0==a%2?-this._areaWidth:
this._areaWidth);k.css({background:"url('"+n+"') no-repeat",backgroundPosition:m+"px "+g+"px",opacity:d,left:b,height:e,"z-index":3})}};v.prototype.animate=function(a,b,d,e){var h,n;switch(b){case g.sliceRightDown:case g.sliceLeftDown:case g.sliceFadeDown:case g.blindsDown:case g.sliceAltDown:b=0;h=this._total-1;n=1;break;default:b=this._total-1,h=0,n=-1}k(this).trigger("trsn",[a,d,e,b,h,n])};v.prototype.jsAnimate=function(a,b,d,e,h,n,c){var m=this;this._intervalId=setInterval(function(){m._$stripes.eq(h).animate({left:0,
opacity:1,height:m._size},d,e,function(){k(this).attr("id")==n&&m._rotator.showContent(b)});h==n&&(clearInterval(m._intervalId),m._intervalId=null);h+=c},this._delay)};v.prototype.cssAnimate=function(a,b,d,e,h,n,c){var m=this;a=0;for(this._$stripes.show();;){this._$stripes.eq(h).cssTransition({left:0,opacity:1,height:this._size},d,e,a,function(){k(this).attr("id")==n&&m._rotator.showContent(b)});if(h==n)break;h+=c;a+=this._delay}};v.prototype.jsRandom=function(a,b,d,e){var h=this;C(this._arr);var n=
0,c=0;this._intervalId=setInterval(function(){k(h._arr[n++]).animate({opacity:1},d,e,function(){++c==h._total&&h._rotator.showContent(b)});n==h._total&&(clearInterval(h._intervalId),h._intervalId=null)},this._delay)};v.prototype.cssRandom=function(a,b,d,e){var h=this,n=0;C(this._arr);this._$stripes.show();for(a=0;a<=this._total;a++)k(this._arr[a]).cssTransition({opacity:1},d,e,a*this._delay,function(){++n==h._total&&h._rotator.showContent(b)})};p.prototype.init=function(){this._numRows=Math.ceil(this._areaHeight/
this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols;250<this._total&&(this._size=Math.ceil(Math.sqrt(this._areaHeight*this._areaWidth/250)),this._numRows=Math.ceil(this._areaHeight/this._size),this._numCols=Math.ceil(this._areaWidth/this._size),this._total=this._numRows*this._numCols);for(var a="",b=0;b<this._numRows;b++)for(var d=0;d<this._numCols;d++)a+="<div class='block' id='"+b+"-"+d+"'></div>";this._rotator.addToScreen(a);this._$blocks=this._rotator._$screen.find("div.block");
this._$blocks.data({tlId:"0-0",trId:"0-"+(this._numCols-1),blId:this._numRows-1+"-0",brId:this._numRows-1+"-"+(this._numCols-1)});this._arr=this._$blocks.toArray();this._$blockArr=Array(this._numRows);for(b=0;b<this._numRows;b++){this._$blockArr[b]=Array(this._numCols);for(d=0;d<this._numCols;d++)this._$blockArr[b][d]=this._$blocks.filter("#"+(b+"-"+d)).data("top",b*this._size)}!1!==w&&!1!==this._rotator._cssTrsn?k(this).bind("trsn",this.cssAnimate).bind("diagTrsn",this.cssDiagonal).bind("zigzagTrsn",
this.cssZigZag).bind("dirTrsn",this.cssDirectional).bind("spiralTrsn",this.cssSpiral).bind("randTrsn",this.cssRandom).bind("clearTrsn",this.cssClear):k(this).bind("trsn",this.jsAnimate).bind("diagTrsn",this.jsDiagonal).bind("zigzagTrsn",this.jsZigZag).bind("dirTrsn",this.jsDirectional).bind("spiralTrsn",this.jsSpiral).bind("randTrsn",this.jsRandom).bind("clearTrsn",this.jsClear)};p.prototype.clear=function(){k(this).trigger("clearTrsn")};p.prototype.jsClear=function(){clearInterval(this._intervalId);
this._intervalId=null;this._$blocks.stop(!0).css({"z-index":2,opacity:0})};p.prototype.cssClear=function(){this._$blocks.unbind(F[w]).cssTransitionStop(!1).css({"z-index":2,opacity:0,display:"none"})};p.prototype.displayContent=function(a,b,d,e){switch(b){case g.diagonalFade:this.setBlocks(a,0,this._size,0);this.diagAnimate(a,{opacity:1},!1,d,e);break;case g.diagonalExpand:this.setBlocks(a,0,0,0);this.diagAnimate(a,{opacity:1,width:this._size,height:this._size},!1,d,e);break;case g.reverseDiagonalFade:this.setBlocks(a,
0,this._size,0);this.diagAnimate(a,{opacity:1},!0,d,e);break;case g.reverseDiagonalExpand:this.setBlocks(a,0,0,0);this.diagAnimate(a,{opacity:1,width:this._size,height:this._size},!0,d,e);break;case g.blockRandomFade:this.setBlocks(a,0,this._size,0);k(this).trigger("randTrsn",[a,d,e]);break;case g.blockRandomExpand:this.setBlocks(a,1,0,0);k(this).trigger("randTrsn",[a,d,e]);break;case g.blockRandomDrop:this.setBlocks(a,1,this._size,-(this._numRows*this._size));k(this).trigger("randTrsn",[a,d,e]);
break;case g.zigZagDown:case g.zigZagUp:case g.zigZagRight:case g.zigZagLeft:this.setBlocks(a,0,this._size,0);this.zigZagAnimate(a,b,d,e);break;case g.spiralIn:this.setBlocks(a,0,this._size,0);this.spiralAnimate(a,!1,d,e);break;case g.spiralOut:this.setBlocks(a,0,this._size,0);this.spiralAnimate(a,!0,d,e);break;default:this.setBlocks(a,1,0,0),this.dirAnimate(a,b,d,e)}};p.prototype.setBlocks=function(a,b,d,e){var h=0,n=0;this._rotator._autoCenter&&(h=(this._areaHeight-a.height())/2,n=(this._areaWidth-
a.width())/2);a=a.attr("src");for(var c=0;c<this._numRows;c++)for(var m=0;m<this._numCols;m++)this._$blockArr[c][m].css({background:"url('"+a+"') no-repeat",backgroundPosition:-m*this._size+n+"px "+(-c*this._size+h)+"px",opacity:b,top:c*this._size+e,left:m*this._size,width:d,height:d,"z-index":3})};p.prototype.diagAnimate=function(a,b,d,e,h){var n=Array(this._total),c,m,g;c=this._numRows-1+(this._numCols-1);d?(d=c,m=c=-1,g=this._$blocks.data("tlId")):(d=0,c+=1,m=1,g=this._$blocks.data("brId"));for(var f=
0;d!=c;){for(i=Math.min(this._numRows-1,d);0<=i;){j=Math.abs(i-d);if(j>=this._numCols)break;n[f++]=this._$blockArr[i][j];i--}d+=m}k(this).trigger("diagTrsn",[a,b,e,h,n,g])};p.prototype.jsDiagonal=function(a,b,d,e,h,n,c){var m=this,g=0;this._intervalId=setInterval(function(){n[g++].animate(d,e,h,function(){k(this).attr("id")==c&&m._rotator.showContent(b)});g==m._total&&(clearInterval(m._intervalId),m._intervalId=null)},this._delay)};p.prototype.cssDiagonal=function(a,b,d,e,h,n,c){var m=this;this._$blocks.show();
for(a=0;a<this._total;a++)n[a].cssTransition(d,e,h,a*this._delay,function(){k(this).attr("id")==c&&m._rotator.showContent(b)})};p.prototype.zigZagAnimate=function(a,b,d,e){var h=0,n=0,c,m;b==g.zigZagRight?(c=0==this._numCols%2?this._$blocks.data("trId"):this._$blocks.data("brId"),n=0,b=1,m=!1):b==g.zigZagLeft?(c=0==this._numCols%2?this._$blocks.data("tlId"):this._$blocks.data("blId"),n=this._numCols-1,b=-1,m=!1):(b==g.zigZagDown?(c=0==this._numRows%2?this._$blocks.data("blId"):this._$blocks.data("brId"),
h=0,b=1):(c=0==this._numRows%2?this._$blocks.data("tlId"):this._$blocks.data("trId"),h=this._numRows-1,b=-1),m=!0);k(this).trigger("zigzagTrsn",[a,d,e,h,n,b,c,m])};p.prototype.jsZigZag=function(a,b,d,e,h,n,c,m,g){var f=this,l=!0;this._intervalId=setInterval(function(){f._$blockArr[h][n].animate({opacity:1},d,e,function(){k(this).attr("id")==m&&f._rotator.showContent(b)});f._$blockArr[h][n].attr("id")==m&&(clearInterval(f._intervalId),f._intervalId=null);if(g){if(l?n++:n--,n==f._numCols||0>n)n=(l=
!l)?0:f._numCols-1,h+=c}else if(l?h++:h--,h==f._numRows||0>h)h=(l=!l)?0:f._numRows-1,n+=c},this._delay)};p.prototype.cssZigZag=function(a,b,d,e,h,n,c,m,f){var g=this;a=!0;var l=0;for(this._$blocks.show();;){this._$blockArr[h][n].cssTransition({opacity:1},d,e,l,function(){k(this).attr("id")==m&&g._rotator.showContent(b)});if(this._$blockArr[h][n].attr("id")==m)break;if(f){if(a?n++:n--,n==this._numCols||0>n)n=(a=!a)?0:this._numCols-1,h+=c}else if(a?h++:h--,h==this._numRows||0>h)h=(a=!a)?0:this._numRows-
1,n+=c;l+=this._delay}};p.prototype.dirAnimate=function(a,b,d,e){var h=Array(this._total),c=0;switch(b){case g.blockExpandRight:b=this._$blocks.data("brId");for(var f=0;f<this._numCols;f++)for(var m=0;m<this._numRows;m++)h[c++]=this._$blockArr[m][f];break;case g.blockExpandLeft:b=this._$blocks.data("blId");for(f=this._numCols-1;0<=f;f--)for(m=0;m<this._numRows;m++)h[c++]=this._$blockArr[m][f];break;case g.blockExpandDown:b=this._$blocks.data("brId");for(m=0;m<this._numRows;m++)for(f=0;f<this._numCols;f++)h[c++]=
this._$blockArr[m][f];break;default:b=this._$blocks.data("trId");for(m=this._numRows-1;0<=m;m--)for(f=0;f<this._numCols;f++)h[c++]=this._$blockArr[m][f]}k(this).trigger("dirTrsn",[a,d,e,h,b])};p.prototype.jsDirectional=function(a,b,d,e,h,c){var f=this,m=0;this._intervalId=setInterval(function(){h[m++].animate({width:f._size,height:f._size},d,e,function(){k(this).attr("id")==c&&f._rotator.showContent(b)});m==f._total&&(clearInterval(f._intervalId),f._intervalId=null)},this._delay)};p.prototype.cssDirectional=
function(a,b,d,e,h,c){var f=this;this._$blocks.show();for(a=0;a<this._total;a++)h[a].cssTransition({width:this._size,height:this._size},d,e,a*this._delay,function(){k(this).attr("id")==c&&f._rotator.showContent(b)})};p.prototype.jsRandom=function(a,b,d,e){var h=this,c=0,f=0;C(this._arr);this._intervalId=setInterval(function(){k(h._arr[c]).animate({top:k(h._arr[c]).data("top"),width:h._size,height:h._size,opacity:1},d,e,function(){++f==h._total&&h._rotator.showContent(b)});c++;c==h._total&&(clearInterval(h._intervalId),
h._intervalId=null)},this._delay)};p.prototype.cssRandom=function(a,b,d,e){var h=this,c=0;C(this._arr);this._$blocks.show();for(a=0;a<this._total;a++)k(this._arr[a]).cssTransition({top:k(this._arr[a]).data("top"),width:this._size,height:this._size,opacity:1},d,e,a*this._delay,function(){++c==h._total&&h._rotator.showContent(b)})};p.prototype.spiralAnimate=function(a,b,d,e){for(var h=0,c=0,f=this._numRows-1,m=this._numCols-1,g=0,l=m,B=[];0<=f&&0<=m;){for(var L=0;;){B[B.length]=this._$blockArr[h][c];
if(++L>l)break;switch(g){case 0:c++;break;case 1:h++;break;case 2:c--;break;case 3:h--}}switch(g){case 0:g=1;l=--f;h++;break;case 1:g=2;l=--m;c--;break;case 2:g=3;l=--f;h--;break;case 3:g=0,l=--m,c++}}0<B.length&&(b&&B.reverse(),k(this).trigger("spiralTrsn",[a,d,e,B]))};p.prototype.jsSpiral=function(a,b,d,e,h){var c=h.length-1,f=h[c].attr("id"),m=0,g=this;this._intervalId=setInterval(function(){h[m].animate({opacity:1},d,e,function(){k(this).attr("id")==f&&g._rotator.showContent(b)});m==c&&(clearInterval(g._intervalId),
g._intervalId=null);m++},this._delay)};p.prototype.cssSpiral=function(a,b,d,e,h){var c=this;a=h.length-1;var f=h[a].attr("id");this._$blocks.show();for(var m=0;m<=a;m++)h[m].cssTransition({opacity:1},d,e,m*this._delay,function(){k(this).attr("id")==f&&c._rotator.showContent(b)})};f.prototype.getRotator=function(a,b){if(a.hasClass(b))return a;var d=a.find("."+b);if(0<d.length)return d.eq(0)};f.prototype.init=function(){this._cssTrsnLayer=this._cssTrsn=w&&this._cssTransition;var a=this._$rotator.parent();
if("auto"===this._screenWidth){var b=this._$rotator.outerWidth()-this._$rotator.width();this._screenWidth=0<a.length&&0<a.width()?a.width()-b:825}"auto"===this._screenHeight&&(b=this._$rotator.outerHeight()-this._$rotator.height(),this._screenHeight=0<a.length&&0<a.height()?a.height()-b:300);this._$screen=this._$rotator.find(">div.screen");0==this._$screen.length&&(this._$rotator.append("<div class='screen'></div>"),this._$screen=this._$rotator.find(">div.screen"));this._$list=this._$rotator.find(">ul");
0<this._$list.length&&this._$list.wrap("<div class='c-panel'><div class='thumbnails'></div></div>");this._$cpanel=this._$rotator.find(">div.c-panel");this._$buttonPanel=this._$cpanel.find(">div.buttons");0==this._$buttonPanel.length&&(this._$cpanel.append("<div class='buttons'><div class='prev-btn'></div><div class='play-btn'></div><div class='next-btn'></div></div>"),this._$buttonPanel=this._$cpanel.find(">div.buttons"));this._$thumbPanel=this._$cpanel.find(">div.thumbnails");this._$list=this._$thumbPanel.find(">ul");
this._$thumbs=this._$list.find(">li");this._timerId=this._syncId=this._layerId=null;this._currIndex=0;this._prevIndex=-1;this._numItems=this._$thumbs.length;this._$items=Array(this._numItems);this._blockEffect=this._hStripeEffect=this._vStripeEffect=!1;this.checkEffect(g[this._globalEffect]);this._slideTransition=g[this._globalEffect]===g.horizontalSlide||g[this._globalEffect]===g.verticalSlide;this._cpVertical=l[this._cpAlign]>=l.LT?!0:!1;1>=this._numItems&&(this._rotate=this._displayPlayBtn=this._displayTimer=
this._mousewheelScroll=this._pauseMouseover=!1,this._dbuttonsType="none");this._shuffle&&this.shuffleItems();this._$rotator.css({width:this._screenWidth,height:this._screenHeight});this.initScreen();this.initButtons();this.initItems();"large"==this._dbuttonsType&&(this._zIndex++,this._$sPrev.css("z-index",this._zIndex),this._$sNext.css("z-index",this._zIndex));this.initCPanel();this.initTimerBar();this._textMousover?!1!==w&&!1!==this._cssTrsnLayer?this._$rotator.bind("mouseenter",{elem:this},this.displayCssLayers).bind("mouseleave",
{elem:this},this.hideLayers).bind("resetLayers",{elem:this},this.resetCssLayers):this._$rotator.bind("mouseenter",{elem:this},this.displayLayers).bind("mouseleave",{elem:this},this.hideLayers).bind("resetLayers",{elem:this},this.resetLayers):!1!==w&&!1!==this._cssTrsnLayer?this._$rotator.bind("updateLayers",{elem:this},this.updateCssLayers).bind("resetLayers",{elem:this},this.resetCssLayers):this._$rotator.bind("updateLayers",{elem:this},this.updateLayers).bind("resetLayers",{elem:this},this.resetLayers);
this._vStripeEffect&&(this._vStripes=new u(this));this._hStripeEffect&&(this._hStripes=new v(this));this._blockEffect&&(this._blocks=new p(this));window.Touch?this._swipe&&(this._startX=this._startY=this._swipeDist=null,this._verticalSlide=g[this._globalEffect]==g.verticalSlide,this._$rotator.bind("touchstart",{elem:this},this.touchStart)):this._mousewheelScroll&&this._$rotator.bind("mousewheel",{elem:this},this.mouseScrollContent).bind("DOMMouseScroll",{elem:this},this.mouseScrollContent);!K(6)&&
this._preload?this.loadImg(0):this.loadAll();0<this._$items.length&&this.loadContent(this._currIndex)};f.prototype.touchStart=function(a){if(1===a.originalEvent.touches.length){var b=a.data.elem;b._startX=a.originalEvent.touches[0].pageX;b._startY=a.originalEvent.touches[0].pageY;b._$rotator.bind("touchmove",{elem:b},b.touchMove).one("touchend",{elem:b},b.touchEnd)}};f.prototype.touchMove=function(a){var b=a.data.elem,d=b._startX-a.originalEvent.touches[0].pageX,e=b._startY-a.originalEvent.touches[0].pageY;
b._verticalSlide?(b._swipeDist=e,b._scrolling=Math.abs(b._swipeDist)<Math.abs(d)):(b._swipeDist=d,b._scrolling=Math.abs(b._swipeDist)<Math.abs(e));b._scrolling||a.preventDefault()};f.prototype.touchEnd=function(a){a=a.data.elem;a._$rotator.unbind("touchmove");a._scrolling||null!==a._swipeDist&&50<Math.abs(a._swipeDist)&&(0<a._swipeDist?a.nextImg():a.prevImg());a._startX=a._startY=a._swipeDist=null};f.prototype.addToScreen=function(a){this._$mainLink.append(a)};f.prototype.initScreen=function(){for(var a=
"<div class='preloader'></div><div class='timer'></div>",b=this.getMaxLayers(),d=0;d<b;d++)a+="<div class='desc'><div class='inner-bg'></div><div class='inner-text'></div></div>";this._$screen.append(a);this._$layers=this._$screen.find(">div.desc");this._$preloader=this._$screen.find(">div.preloader");this._$screen.css({width:this._screenWidth,height:this._screenHeight});""!=this._bgImg&&this._$screen.css({"background-image":"url("+this._bgImg+")","background-repeat":this._bgRepeat,"background-position":this._bgPosition});
this._$strip=k("<div class='strip'></div>");g[this._globalEffect]==g.horizontalSlide?(this._$screen.append(this._$strip),this._$strip.css({width:2*this._screenWidth,height:this._screenHeight}),this._$thumbs.removeAttr("effect")):g[this._globalEffect]==g.verticalSlide?(this._$screen.append(this._$strip),this._$strip.css({width:this._screenWidth,height:2*this._screenHeight}),this._$thumbs.removeAttr("effect")):(this._$screen.append("<a href='#'></a>"),this._$mainLink=this._$screen.find(">a:first"));
a="";if(this._slideTransition){for(d=0;d<this._numItems;d++)a+="<div class='content-box'><img class='main-img'/></div>";this._$strip.append(a);this._$contentBoxes=this._$strip.find(">div.content-box");this._$contentBoxes.css({width:this._screenWidth,height:this._screenHeight})}else{for(d=0;d<this._numItems;d++)a+="<img class='main-img'/>";this._$mainLink.append(a)}};f.prototype.initCPanel=function(){if("none"!=this._thumbType||"small"==this._dbuttonsType||this._displayPlayBtn){if(this._cpOutside)switch(l[this._cpAlign]){case l.BL:this.setHPanel("left");
this.setOutsideHP(!1);break;case l.BC:this.setHPanel("center");this.setOutsideHP(!1);break;case l.BR:this.setHPanel("right");this.setOutsideHP(!1);break;case l.TL:this.setHPanel("left");this.setOutsideHP(!0);break;case l.TC:this.setHPanel("center");this.setOutsideHP(!0);break;case l.TR:this.setHPanel("right");this.setOutsideHP(!0);break;case l.LT:this.setVPanel("top");this.setOutsideVP(!0);break;case l.LC:this.setVPanel("center");this.setOutsideVP(!0);break;case l.LB:this.setVPanel("bottom");this.setOutsideVP(!0);
break;case l.RT:this.setVPanel("top");this.setOutsideVP(!1);break;case l.RC:this.setVPanel("center");this.setOutsideVP(!1);break;case l.RB:this.setVPanel("bottom"),this.setOutsideVP(!1)}else{this._$cpanel.css("z-index",++this._zIndex);switch(l[this._cpAlign]){case l.BL:this.setHPanel("left");this.setInsideHP("bottom");break;case l.BC:this.setHPanel("center");this.setInsideHP("bottom");break;case l.BR:this.setHPanel("right");this.setInsideHP("bottom");break;case l.TL:this.setHPanel("left");this.setInsideHP("top");
break;case l.TC:this.setHPanel("center");this.setInsideHP("top");break;case l.TR:this.setHPanel("right");this.setInsideHP("top");break;case l.LT:this.setVPanel("top");this.setInsideVP("left");break;case l.LC:this.setVPanel("center");this.setInsideVP("left");break;case l.LB:this.setVPanel("bottom");this.setInsideVP("left");break;case l.RT:this.setVPanel("top");this.setInsideVP("right");break;case l.RC:this.setVPanel("center");this.setInsideVP("right");break;case l.RB:this.setVPanel("bottom"),this.setInsideVP("right")}if(this._cpMouseover){var a=
this._cpVertical?"left":"top";this._$rotator.bind("mouseenter",{elem:this,dir:a},this.displayCPanel).bind("mouseleave",{elem:this,dir:a},this.hideCPanel)}}this._$cpanel.css("visibility","visible").click(A)}};f.prototype.setHPanel=function(a){this._$cpanel.css({"margin-top":this._margin,"margin-bottom":this._margin,height:Math.max(this._$thumbPanel.outerHeight(!0),this._$buttonPanel.outerHeight(!0))});a="center"==a?Math.round((this._screenWidth-this._$cpanel.width()-this._margin)/2):"left"==a?this._margin:
this._screenWidth-this._$cpanel.width();this._$cpanel.css("left",a)};f.prototype.setVPanel=function(a){this._$cpanel.css({"margin-left":this._margin,"margin-right":this._margin,width:Math.max(this._$thumbPanel.outerWidth(!0),this._$buttonPanel.outerWidth(!0))});a="center"==a?Math.round((this._screenHeight-this._$cpanel.height()-this._margin)/2):"top"==a?this._margin:this._screenHeight-this._$cpanel.height();this._$cpanel.css("top",a)};f.prototype.setInsideHP=function(a){var b;"top"==a?(b=0,a=-this._$cpanel.outerHeight(!0)):
(b=this._screenHeight-this._$cpanel.outerHeight(!0),a=this._screenHeight);this._$cpanel.data({offset:a,pos:b}).css({top:this._cpMouseover?a:b})};f.prototype.setInsideVP=function(a){var b;"left"==a?(b=0,a=-this._$cpanel.outerWidth(!0)):(b=this._screenWidth-this._$cpanel.outerWidth(!0),a=this._screenWidth);this._$cpanel.data({offset:a,pos:b}).css({left:this._cpMouseover?a:b})};f.prototype.setOutsideHP=function(a){this._$cpanel.wrap("<div class='outer-hp'></div>");this._$cpWrapper=this._$rotator.find(".outer-hp");
this._$cpWrapper.height(this._$cpanel.outerHeight(!0));a?(this._$cpWrapper.css({"border-top":"none",top:0}),this._$screen.css("top",this._$cpWrapper.outerHeight())):(this._$cpWrapper.css({"border-bottom":"none",top:this._screenHeight}),this._$screen.css("top",0));this._$rotator.css({height:this._screenHeight+this._$cpWrapper.outerHeight()})};f.prototype.setOutsideVP=function(a){this._$cpanel.wrap("<div class='outer-vp'></div>");this._$cpWrapper=this._$rotator.find(".outer-vp");this._$cpWrapper.width(this._$cpanel.outerWidth(!0));
a?(this._$cpWrapper.css({"border-left":"none",left:0}),this._$screen.css("left",this._$cpWrapper.outerWidth())):(this._$cpWrapper.css({"border-right":"none",left:this._screenWidth}),this._$screen.css("left",0));this._$rotator.css({width:this._screenWidth+this._$cpWrapper.outerWidth()})};f.prototype.initButtons=function(){this._$playBtn=this._$buttonPanel.find("div.play-btn");var a=this._$buttonPanel.find("div.prev-btn"),b=this._$buttonPanel.find("div.next-btn");"small"==this._dbuttonsType?(a.bind("click",
{elem:this},this.prevImg),b.bind("click",{elem:this},this.nextImg)):(a.hide(),b.hide());this._displayPlayBtn?this._$playBtn.toggleClass("pause",this._rotate).bind("click",{elem:this},this.togglePlay):this._$playBtn.hide();this._pauseMouseover&&this._$rotator.bind("mouseenter",{elem:this},this.pause).bind("mouseleave",{elem:this},this.play);"large"==this._dbuttonsType&&(this._$screen.append("<div class='s-prev'></div><div class='s-next'></div>"),this._$sPrev=this._$screen.find(".s-prev"),this._$sNext=
this._$screen.find(".s-next"),this._$sPrev.bind("click",{elem:this},this.prevImg).mousedown(A),this._$sNext.bind("click",{elem:this},this.nextImg).mousedown(A),this._buttonsMouseover&&(this._$sPrev.css("left",-this._$sPrev.width()),this._$sNext.css("margin-left",0),this._$rotator.bind("mouseenter",{elem:this},this.showSideButtons).bind("mouseleave",{elem:this},this.hideSideButtons)));var d=this._$buttonPanel.find(">div").css({width:this._buttonWidth,height:this._buttonHeight}).mousedown(A);if(this._cpVertical){if(a.addClass("up"),
b.addClass("down"),d.css("margin-bottom",this._margin),this._$buttonPanel.width(d.outerWidth()),I&&this._$buttonPanel.height(this._$buttonPanel.find(">div:visible").length*d.outerHeight(!0)),"none"!=this._thumbType&&this._thumbWidth>this._buttonWidth)switch(a=this._thumbWidth-this._buttonWidth,l[this._cpAlign]){case l.RT:case l.RC:case l.RB:this._$buttonPanel.css("margin-left",a);break;default:this._$buttonPanel.css("margin-right",a)}}else if(d.css("margin-right",this._margin),this._$buttonPanel.height(d.outerHeight()),
I&&this._$buttonPanel.width(this._$buttonPanel.find(">div:visible").length*d.outerWidth(!0)),"none"!=this._thumbType&&this._thumbHeight>this._buttonHeight)switch(a=this._thumbHeight-this._buttonHeight,l[this._cpAlign]){case l.TL:case l.TC:case l.TR:this._$buttonPanel.css("margin-bottom",a);break;default:this._$buttonPanel.css("margin-top",a)}};f.prototype.initTimerBar=function(){this._$timer=this._$screen.find(".timer").data("pct",1);this._displayTimer?(this._$timer.css("visibility","visible"),this._$timer.css("top",
"top"==this._timerAlign?0:this._screenHeight-this._$timer.height())):this._$timer.hide()};f.prototype.initItems=function(){var a=this,b=parseInt(this._$layers.css("z-index"));this._zIndex=b;for(var d=0;d<this._numItems;d++){var e=this._$thumbs.eq(d),h=e.find(">a").eq(0),c=t(h.attr("href"),""),h=t(h.attr("title"),""),f=e.find(">a").eq(1),m=t(f.attr("href"),""),f=t(f.attr("target"),""),E=g[e.attr("data-effect")];"undefined"==typeof E||E==g.horizontalSlide||E==g.verticalSlide?E=g[this._globalEffect]:
this.checkEffect(E);var q=s(e.attr("data-duration"),this._duration),B=t(e.attr("data-easing"),this._easing),L=s(e.attr("data-delay"),this._globalDelay);if(H(B,"Elastic")||H(B,"Bounce"))this._cssTrsn=!1;e.data({imgurl:c,caption:h,ttText:e.find(">.tt-text").html(),href:m,target:f,effect:E,duration:q,easing:B,delay:L,complete:!1});this.initLayerData(e,b);this._$items[d]=e;"number"==this._thumbType?e.append(d+1):"text"==this._thumbType&&e.append(e.data("caption"));c=this._slideTransition?this._$contentBoxes.eq(d).find(">img.main-img"):
this._$mainLink.find(">img.main-img").eq(d);e.data({img:c})}this._$layers.find(">div.inner-text").css({width:"auto",height:"auto"}).html("");this._$layers.css({visibility:"visible",display:"none"});if("none"==this._thumbType)this._$thumbs.hide();else{"image"==this._thumbType&&this._$thumbs.addClass("image").each(function(b){b=k(this).find(">a").eq(0).removeAttr("title").find(">img");0<b.length&&(b.removeAttr("alt"),b.one("load",function(){a.maximizeImage(k(this),a._thumbWidth,a._thumbHeight)}),(b[0].complete||
"complete"==b[0].readyState)&&b.trigger("load"))});this._$thumbs.css({width:this._thumbWidth,height:this._thumbHeight,"line-height":this._thumbHeight+"px"}).mousedown(A);this._selectMouseover?this._$thumbs.bind("mouseover",{elem:this},this.selectItem):this._$thumbPanel.bind("click",{elem:this},this.selectItem);if(this._cpVertical){this._$thumbs.css("margin-bottom",this._margin);this._$list.width(this._$thumbs.outerWidth());this._$thumbPanel.width(this._$list.width());I&&this._$thumbPanel.height(this._numItems*
this._$thumbs.outerHeight(!0));if(("small"==this._dbuttonsType||this._displayPlayBtn)&&this._buttonWidth>this._thumbWidth)switch(b=this._buttonWidth-this._thumbWidth,l[this._cpAlign]){case l.RT:case l.RC:case l.RB:this._$thumbPanel.css("margin-left",b);break;default:this._$thumbPanel.css("margin-right",b)}b=this._screenHeight-(this._$buttonPanel.height()+this._margin);if(this._$thumbPanel.height()>b){var x=this._$thumbs.outerHeight(!0);this._$list.addClass("inside").height(this._numItems*x);this._$thumbPanel.css({height:Math.floor(b/
x)*x-this._margin,"margin-bottom":this._margin});var p=this._$thumbPanel.height()-(this._$list.height()-this._margin);this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var r=this._$thumbPanel.find(".back-scroll"),y=this._$thumbPanel.find(".fwd-scroll");r.css({height:x,width:"100%"});y.css({height:x,width:"100%",top:"100%","margin-top":-x});window.Touch?(r.hide(),y.hide()):(r.bind("mouseenter",function(){y.show();var b=4*-a._$list.stop(!0).position().top;a._$list.stop(!0).animate({top:0},
b,"linear",function(){r.hide()})}).bind("mouseleave",{elem:this},this.stopList),y.bind("mouseenter",function(){r.show();var b=4*(-p+a._$list.stop(!0).position().top);a._$list.stop(!0).animate({top:p},b,"linear",function(){y.hide()})}).bind("mouseleave",{elem:this},this.stopList));this._$rotator.bind("updatelist",function(){if(!a._$list.is(":animated")){var b=a._$list.position().top+a._currIndex*x;if(0>b||b>a._$thumbPanel.height()-a._$thumbs.outerHeight())b=-a._currIndex*x,b<p&&(b=p),a._$list.stop(!0).animate({top:b},
500,function(){window.Touch||(0==k(this).position().top?r.hide():r.show(),k(this).position().top==p?y.hide():y.show())})}})}}else{this._$thumbs.css("margin-right",this._margin);this._$list.height(this._$thumbs.outerHeight());this._$thumbPanel.height(this._$list.height());I&&this._$thumbPanel.width(this._numItems*this._$thumbs.outerWidth(!0));if(("small"==this._dbuttonsType||this._displayPlayBtn)&&this._buttonHeight>this._thumbHeight)switch(b=this._buttonHeight-this._thumbHeight,l[this._cpAlign]){case l.TL:case l.TC:case l.TR:this._$thumbPanel.css("margin-bottom",
b);break;default:this._$thumbPanel.css("margin-top",b)}b=this._screenWidth-(this._$buttonPanel.width()+this._margin);this._$thumbPanel.width()>b&&(x=this._$thumbs.outerWidth(!0),this._$list.addClass("inside").width(this._numItems*x),this._$thumbPanel.css({width:Math.floor(b/x)*x-this._margin,"margin-right":this._margin}),p=this._$thumbPanel.width()-(this._$list.width()-this._margin),this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>"),r=this._$thumbPanel.find(".back-scroll"),
y=this._$thumbPanel.find(".fwd-scroll"),r.css({width:x,height:"100%"}),y.css({width:x,height:"100%",left:"100%","margin-left":-x}),window.Touch||(r.bind("mouseenter",function(){y.show();var b=4*-a._$list.stop(!0).position().left;a._$list.stop(!0).animate({left:0},b,"linear",function(){r.hide()})}).bind("mouseleave",{elem:this},this.stopList),y.bind("mouseenter",function(){r.show();var b=4*(-p+a._$list.stop(!0).position().left);a._$list.stop(!0).animate({left:p},b,"linear",function(){y.hide()})}).bind("mouseleave",
{elem:this},this.stopList)),this._$rotator.bind("updatelist",function(){if(!a._$list.is(":animated")){var b=a._$list.position().left+a._currIndex*x;if(0>b||b>a._$thumbPanel.width()-a._$thumbs.outerWidth())b=-a._currIndex*x,b<p&&(b=p),a._$list.stop(!0).animate({left:b},500,function(){0==k(this).position().left?r.hide():r.show();k(this).position().left==p?y.hide():y.show()})}}))}this.initTooltip()}};f.prototype.initLayerData=function(a,b){var d=this,e=a.find(">div:hidden").not(".tt-text"),c=e.sort(function(a,
b){return z(k(a).attr("data-delay"),0)-z(k(b).attr("data-delay"),0)});e.remove();a.append(c);var n=this._$layers.eq(0),f=n.find(">div.inner-text");c.each(function(a){var e,c,h,g=k(this);e=s(g.width(),"auto");c=s(g.height(),"auto");var l=g.outerWidth()-g.width(),r=Math.round(l/2),p=!isNaN(parseInt(g.css("bottom"))),q=!isNaN(parseInt(g.css("right"))),u="",v="",w="",A="";p?v=z(g.css("bottom"),0):u=z(g.css("top"),0);q?A=z(g.css("right"),0):w=z(g.css("left"),0);n.css({top:u,bottom:v,left:w,right:A});f.css({padding:r,
width:e,height:c}).html(g.html());"auto"==c&&(c=f.height()+1);c+=l;"auto"==e&&(e=f.width()+1);e+=l;l=z(g.css("z-index"),0)+b;l>d._zIndex&&(d._zIndex=l);g.css({width:e,height:c});e=t(g.attr("data-effect"),d._textEffect);c=s(g.attr("data-duration"),d._textDuration);h=t(g.attr("data-easing"),d._textEasing);a=z(g.attr("data-delay"),a*d._textDelay);if(H(h,"Elastic")||H(h,"Bounce"))d._cssTrsnLayer=!1;g.data({top:u,bottom:v,left:w,right:A,padding:r,zindex:l,usebottom:p,useright:q,effect:e,duration:c,easing:h,
delay:a})})};f.prototype.initTooltip=function(){if("text"==this._tipType){var a="tip-"+k("body").find(".rotator-tooltip").length;k("body").append("<div class='rotator-tooltip' id='"+a+"'><div class='tt-txt'></div></div>");this._$tooltip=k("body").find("#"+a);this._$tooltip.find(">.tt-txt").css({width:this._tooltipWidth,height:this._tooltipHeight});this._$thumbs.bind("mouseover",{elem:this},this.showTooltip).bind("mouseout",{elem:this},this.hideTooltip).bind("mousemove",{elem:this},this.moveTooltip);
switch(l[this._cpAlign]){case l.TL:case l.TC:case l.TR:this._$tooltip.data("bottom",!0).addClass("txt-down");break;default:this._$tooltip.data("bottom",!1).addClass("txt-up")}}else if("image"==this._tipType){var b=this,a="tip-"+k("body").find(".rotator-tooltip").length;k("body").append("<div class='rotator-tooltip' id='"+a+"'><div class='img-frame'></div></div>");this._$tooltip=k("body").find("#"+a);var d=this._$tooltip.find(">div.img-frame");d.css({width:this._tooltipWidth,height:this._tooltipHeight});
this._$thumbs.each(function(a){var e=k(this).find(">img.tt-img");0<e.length&&(e.attr("id","tt-img-"+a),d.append(e),e.one("load",function(){b.maximizeImage(k(this),b._tooltipWidth,b._tooltipHeight)}),(e[0].complete||"complete"==e[0].readyState)&&e.trigger("load"))});switch(l[this._cpAlign]){case l.TL:case l.TC:case l.TR:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip);this._$tooltip.data("bottom",!0).addClass("img-down");break;case l.LT:case l.LC:case l.LB:this._$thumbs.bind("mouseover",
{elem:this},this.showVImgTooltip);this._$tooltip.data("right",!0).addClass("img-right");break;case l.RT:case l.RC:case l.RB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",!1).addClass("img-left");break;default:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip),this._$tooltip.data("bottom",!1).addClass("img-up")}this._$thumbs.bind("mouseout",{elem:this},this.hideTooltip)}if(K(6))try{this._$tooltip.css("background-image","none").children().css("margin",
0)}catch(e){}};f.prototype.showHImgTooltip=function(a){a=a.data.elem;var b=a._$tooltip.find("img#tt-img-"+k(this).index());if(b.attr("src")){a._$tooltip.find("img").css({zIndex:0}).hide();b.css({zIndex:1}).show();var b=a._$tooltip.data("bottom")?k(this).outerHeight():-a._$tooltip.outerHeight(),d=k(this).offset();a._$tooltip.css({top:d.top+b,left:d.left+(k(this).outerWidth()-a._$tooltip.outerWidth())/2}).stop(!0,!0).delay(a._tooltipDelay).fadeIn(300)}};f.prototype.showVImgTooltip=function(a){a=a.data.elem;
var b=a._$tooltip.find("img#tt-img-"+k(this).index());if(b.attr("src")){a._$tooltip.find("img").css({zIndex:0}).hide();b.css({zIndex:1}).show();var b=a._$tooltip.data("right")?k(this).outerWidth():-a._$tooltip.outerWidth(),d=k(this).offset();a._$tooltip.css({top:d.top+(k(this).outerHeight()-a._$tooltip.outerHeight())/2,left:d.left+b}).stop(!0,!0).delay(a._tooltipDelay).fadeIn(300)}};f.prototype.showTooltip=function(a){var b=a.data.elem,d=b._$items[k(this).index()].data("ttText");"undefined"!=typeof d&&
""!=d&&(b._$tooltip.find(">div.tt-txt").html(d),d=b._$tooltip.data("bottom")?0:-b._$tooltip.outerHeight(!0),b._$tooltip.css({top:a.pageY+d,left:a.pageX}).stop(!0,!0).delay(b._tooltipDelay).fadeIn(300))};f.prototype.moveTooltip=function(a){var b=a.data.elem,d=b._$tooltip.data("bottom")?0:-b._$tooltip.outerHeight(!0);b._$tooltip.css({top:a.pageY+d,left:a.pageX})};f.prototype.hideTooltip=function(a){try{("undefined"!=typeof a?a.data.elem:this)._$tooltip.stop(!0,!0).hide()}catch(b){}};f.prototype.displayCPanel=
function(a){var b=a.data.elem,d={};d[a.data.dir]=b._$cpanel.data("pos");d.opacity=1;b._$cpanel.stop(!0).animate(d,500)};f.prototype.hideCPanel=function(a){var b=a.data.elem,d={};d[a.data.dir]=b._$cpanel.data("offset");d.opacity=0;b._$cpanel.stop(!0).animate(d,500)};f.prototype.showSideButtons=function(a){a=a.data.elem;a._$sPrev.stop(!0).animate({left:0},500);a._$sNext.stop(!0).animate({"margin-left":-a._$sNext.width()},500)};f.prototype.hideSideButtons=function(a){a=a.data.elem;a._$sPrev.stop(!0).animate({left:-a._$sPrev.width()},
500);a._$sNext.stop(!0).animate({"margin-left":0},500)};f.prototype.selectItem=function(a){var b=a.data.elem;a=k(a.target);"LI"!=a[0].nodeName&&(a=a.closest("li"));a=a.index();-1<a&&a!=b._currIndex&&(b._dir=a<b._currIndex?0:1,b.resetTimer(),b._prevIndex=b._currIndex,b._currIndex=a,b.loadContent(b._currIndex),b.hideTooltip());return!1};f.prototype.prevImg=function(a){a="undefined"!=typeof a?a.data.elem:this;a._dir=0;a.resetTimer();a._prevIndex=a._currIndex;a._currIndex=0<a._currIndex?a._currIndex-
1:a._numItems-1;a.loadContent(a._currIndex);return!1};f.prototype.nextImg=function(a){a="undefined"!=typeof a?a.data.elem:this;a._dir=1;a.resetTimer();a._prevIndex=a._currIndex;a._currIndex=a._currIndex<a._numItems-1?a._currIndex+1:0;a.loadContent(a._currIndex);return!1};f.prototype.togglePlay=function(a){a=a.data.elem;a._rotate=!a._rotate;a._$playBtn.toggleClass("pause",a._rotate);a._rotate?a.startTimer():a.pauseTimer();return!1};f.prototype.play=function(a){a=a.data.elem;a._rotate=!0;a._$playBtn.addClass("pause");
a.startTimer()};f.prototype.pause=function(a){a=a.data.elem;a._rotate=!1;a._$playBtn.removeClass("pause");a.pauseTimer()};f.prototype.pauseLast=function(a){a==this._numItems-1&&(this._rotate=!1,this._$playBtn.removeClass("pause"))};f.prototype.updateLayers=function(a){var b=a.data.elem;b._$layers.stop(!0,!0);if(null===b._layerId){var d=b._$items[b._currIndex].find(">div:hidden").not(".tt-text");0<d.length&&(b._layerDelay=d.eq(0).data("delay"),b._layerId=setTimeout(function(){b.updateLayer(0,d)},b._layerDelay))}};
f.prototype.updateLayer=function(a,b){var d=this._$layers.eq(a),e=b.eq(a),c=e.width(),f=e.height(),g=e.data("usebottom"),m=e.data("useright"),k,l,p,q;k=e.data("top");l=e.data("bottom");p=e.data("left");q=e.data("right");d.css("z-index",e.data("zindex"));d.find(">div.inner-text").css({color:e.css("color"),padding:e.data("padding")});d.find(">div.inner-bg").css({height:f,backgroundColor:e.css("background-color"),opacity:e.css("opacity"),backgroundImage:e.css("background-image"),backgroundRepeat:e.css("background-repeat"),
backgroundPosition:e.css("background-position")});switch(r[e.data("effect")]){case r.fade:this.fadeInLayer(e,d,{top:k,bottom:l,left:p,right:q,width:c,height:f});break;case r.expandDown:g&&(k=this._screenHeight-f-l);this.expandLayer(e,d,{width:c,height:0,top:k,left:p,right:q},{height:f});break;case r.expandUp:g||(l=this._screenHeight-(k+f));this.expandLayer(e,d,{width:c,height:0,bottom:l,left:p,right:q},{height:f});break;case r.expandRight:m&&(p=this._screenWidth-c-q);this.expandLayer(e,d,{width:0,
height:f,top:k,bottom:l,left:p},{width:c});break;case r.expandLeft:m||(q=this._screenWidth-(p+c));this.expandLayer(e,d,{width:0,height:f,top:k,bottom:l,right:q},{width:c});break;case r.moveDown:g?this.moveLayer(e,d,{width:c,height:f,bottom:this._screenHeight,left:p,right:q},{bottom:l}):this.moveLayer(e,d,{width:c,height:f,top:-f,left:p,right:q},{top:k});break;case r.moveUp:g?this.moveLayer(e,d,{width:c,height:f,bottom:-f,left:p,right:q},{bottom:l}):this.moveLayer(e,d,{width:c,height:f,top:this._screenHeight,
left:p,right:q},{top:k});break;case r.moveRight:m?this.moveLayer(e,d,{width:c,height:f,top:k,bottom:l,right:this._screenWidth},{right:q}):this.moveLayer(e,d,{width:c,height:f,top:k,bottom:l,left:-c},{left:p});break;case r.moveLeft:m?this.moveLayer(e,d,{width:c,height:f,top:k,bottom:l,right:-c},{right:q}):this.moveLayer(e,d,{width:c,height:f,top:k,bottom:l,left:this._screenWidth},{left:p});break;default:this.showLayer(e,d,{top:k,bottom:l,left:p,right:q,width:c,height:f})}if(++a<b.length){var s=this,
e=b.eq(a),d=e.data("delay"),e=Math.abs(d-this._layerDelay);this._layerDelay=d;this._layerId=setTimeout(function(){s.updateLayer(a,b)},e)}};f.prototype.updateCssLayers=function(a){var b=a.data.elem;b._$layers.cssTransitionStop(!0);b._$items[b._currIndex].find(">div:hidden").not(".tt-text").each(function(a){b.updateCssLayer(k(this),b._$layers.eq(a))})};f.prototype.updateCssLayer=function(a,b){var d,e,c,f,g,k;d=a.width();e=a.height();c=a.data("top");f=a.data("bottom");g=a.data("left");k=a.data("right");
b.css("z-index",a.data("zindex"));b.find(">div.inner-text").css({color:a.css("color"),padding:a.data("padding")});b.find(">div.inner-bg").css({height:e,backgroundColor:a.css("background-color"),opacity:a.css("opacity"),backgroundImage:a.css("background-image"),backgroundRepeat:a.css("background-repeat"),backgroundPosition:a.css("background-position")});switch(r[a.data("effect")]){case r.fade:this.fadeInCssLayer(a,b,{top:c,bottom:f,left:g,right:k,width:d,height:e,opacity:0});break;case r.expandDown:a.data("usebottom")&&
(c=this._screenHeight-e-f);this.expandCssLayer(a,b,{width:d,height:0,top:c,left:g,right:k},{height:e});break;case r.expandUp:a.data("usebottom")||(f=this._screenHeight-(c+e));this.expandCssLayer(a,b,{width:d,height:0,bottom:f,left:g,right:k},{height:e});break;case r.expandRight:a.data("useright")&&(g=this._screenWidth-d-k);this.expandCssLayer(a,b,{width:0,height:e,top:c,bottom:f,left:g},{width:d});break;case r.expandLeft:a.data("useright")||(k=this._screenWidth-(g+d));this.expandCssLayer(a,b,{width:0,
height:e,top:c,bottom:f,right:k},{width:d});break;case r.moveDown:a.data("usebottom")?this.moveCssLayer(a,b,{width:d,height:e,bottom:this._screenHeight,left:g,right:k},{bottom:f}):this.moveCssLayer(a,b,{width:d,height:e,top:-e,left:g,right:k},{top:c});break;case r.moveUp:a.data("usebottom")?this.moveCssLayer(a,b,{width:d,height:e,bottom:-e,left:g,right:k},{bottom:f}):this.moveCssLayer(a,b,{width:d,height:e,top:this._screenHeight,left:g,right:k},{top:c});break;case r.moveRight:a.data("useright")?this.moveCssLayer(a,
b,{width:d,height:e,top:c,bottom:f,right:this._screenWidth},{right:k}):this.moveCssLayer(a,b,{width:d,height:e,top:c,bottom:f,left:-d},{left:g});break;case r.moveLeft:a.data("useright")?this.moveCssLayer(a,b,{width:d,height:e,top:c,bottom:f,right:-d},{right:k}):this.moveCssLayer(a,b,{width:d,height:e,top:c,bottom:f,left:this._screenWidth},{left:g});break;default:this.showCssLayer(a,b,{top:c,bottom:f,left:g,right:k,width:d,height:e,opacity:1})}};f.prototype.resetLayers=function(a){a=a.data.elem;clearTimeout(a._syncId);
clearTimeout(a._layerId);a._layerId=null;a._syncId=null;a._$layers.stop(!0,!0);a._$layers.each(function(a){a=k(this);a.is(":visible")&&a.fadeOut(500)})};f.prototype.resetCssLayers=function(a){a=a.data.elem;clearTimeout(a._syncId);a._syncId=null;a._$layers.cssTransitionStop(!0);a._$layers.each(function(a){a=k(this);a.is(":visible")&&a.cssTransition({opacity:0},500,"",0,function(){k(this).css({display:"none"})})})};f.prototype.expandLayer=function(a,b,d,c){b.find(">div.inner-text").html("");b.stop(!0,
!0).css({top:"",bottom:"",left:"",right:""}).css(d).show().animate(c,a.data("duration"),a.data("easing"),function(){k(this).find(">div.inner-text").html(a.html())})};f.prototype.moveLayer=function(a,b,d,c){b.find(">div.inner-text").html(a.html());b.stop(!0,!0).css({top:"",bottom:"",left:"",right:""}).css(d).show().animate(c,a.data("duration"),a.data("easing"))};f.prototype.fadeInLayer=function(a,b,d){b.find(">div.inner-text").html(a.html());b.stop(!0,!0).css(d).fadeIn(a.data("duration"),a.data("easing"),
function(){R&&k(this).find(">div.inner-text").get(0).style.removeAttribute("filter")})};f.prototype.showLayer=function(a,b,d){b.find(">div.inner-text").html(a.html());b.stop(!0,!0).css(d).show()};f.prototype.expandCssLayer=function(a,b,d,c){b.find(">div.inner-text").html("");b.css({top:"",bottom:"",left:"",right:"",opacity:1}).css(d).show();b.cssTransition(c,a.data("duration"),a.data("easing"),a.data("delay"),function(){k(this).find(">div.inner-text").html(a.html())})};f.prototype.moveCssLayer=function(a,
b,d,c){b.find(">div.inner-text").html(a.html());b.css({top:"",bottom:"",left:"",right:"",opacity:1}).css(d).show();b.cssTransition(c,a.data("duration"),a.data("easing"),a.data("delay"))};f.prototype.fadeInCssLayer=function(a,b,d){b.find(">div.inner-text").html(a.html());b.css(d).show();b.cssTransition({opacity:1},a.data("duration"),a.data("easing"),a.data("delay"))};f.prototype.showCssLayer=function(a,b,d){b.find(">div.inner-text").html(a.html());b.css(d).show()};f.prototype.displayLayers=function(a){a=
a.data.elem;a._$rotator.unbind("updateLayers").bind("updateLayers",{elem:a},a.updateLayers).trigger("updateLayers")};f.prototype.hideLayers=function(a){a.data.elem._$rotator.unbind("updateLayers").trigger("resetLayers")};f.prototype.displayCssLayers=function(a){a=a.data.elem;a._$rotator.unbind("updateLayers").bind("updateLayers",{elem:a},a.updateCssLayers).trigger("updateLayers")};f.prototype.loadContent=function(a){var b=this._$items[a];this._$rotator.trigger("resetLayers").trigger("updatelist");
this._playOnce&&this.pauseLast(a);this._$thumbs.filter(".curr-thumb").removeClass("curr-thumb");this._$thumbs.eq(a).addClass("curr-thumb");this._delay=b.data("delay");this._textSync||this._$rotator.trigger("updateLayers");if(this._$mainLink)if(a=b.data("href")){var d=b.data("target");this._$mainLink.unbind("click",A).css("cursor","pointer").attr({href:a,target:d})}else this._$mainLink.click(A).css("cursor","default");if(b.data("complete"))this._$preloader.hide(),this.displayContent(b.data("img"));
else{var c=this;a=b.data("img");a.one("load",function(){c._$preloader.hide();b.data("complete")||c.storeImg(b,k(this));c.displayContent(k(this))}).error(function(){});this._$preloader.show();a.attr("src",b.data("imgurl"));(a[0].complete||"complete"==a[0].readyState)&&a.trigger("load")}};f.prototype.displayContent=function(a){this._vStripeEffect&&this._vStripes.clear();this._hStripeEffect&&this._hStripes.clear();this._blockEffect&&this._blocks.clear();(this._vStripeEffect||this._hStripeEffect||this._blockEffect)&&
this.setPrevious();var b=this._$items[this._currIndex],d=b.data("effect"),c=b.data("duration"),b=b.data("easing");d==g.none||"undefined"==typeof d?this.showContent(a):d==g.fade?this.fadeInContent(a,c,b):d==g.crossFade?this.xfadeContent(a,c,b):d==g.horizontalSlide?this.slideContent(a,"left",this._screenWidth,c,b):d==g.verticalSlide?this.slideContent(a,"top",this._screenHeight,c,b):(d==g.random&&(d=Math.floor(Math.random()*(Q-6))),d<=g.spiralOut?this._blocks.displayContent(a,d,c,b):d<=g.verticalSliceRandomFade?
this._vStripes.displayContent(a,d,c,b):this._hStripes.displayContent(a,d,c,b))};f.prototype.setPrevious=function(){if(0<=this._prevIndex){var a=this._$mainLink.find("img#curr-img").data("src"),b=this._$items[this._prevIndex].data("imgurl");a!=b&&(this._$mainLink.find("img.main-img").attr("id","").hide(),this._$mainLink.find("img.main-img").filter(function(){return k(this).data("src")==b}).eq(0).show())}};f.prototype.showContent=function(a){this._textSync&&this._$rotator.trigger("updateLayers");this._$mainLink.find("img.main-img").attr("id",
"").hide();a.attr("id","curr-img").show();this.startTimer()};f.prototype.fadeInContent=function(a,b,d){var c=this;this._$mainLink.find("img#curr-img").stop(!0,!0);this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);a.attr("id","curr-img").stop(!0,!0).css({opacity:0,"z-index":1}).show().animate({opacity:1},b,d,function(){c._$mainLink.find("img.main-img:not('#curr-img')").hide();c.startTimer()});this._textSync&&(this._syncId=setTimeout(function(){c._$rotator.trigger("updateLayers")},
b))};f.prototype.xfadeContent=function(a,b,d){var c=this,f=this._$mainLink.find("img#curr-img");this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);f.stop(!0,!0).animate({opacity:0},b,d);a.attr("id","curr-img").stop(!0,!0).css({opacity:0,"z-index":1}).show().animate({opacity:1},b,d,function(){c._$mainLink.find("img.main-img:not('#curr-img')").hide();c.startTimer()});this._textSync&&(this._syncId=setTimeout(function(){c._$rotator.trigger("updateLayers")},b))};f.prototype.slideContent=
function(a,b,d,c,f){this._$strip.stop(!0,!0);var g=k("#curr-img",this._$strip);if(0<g.length){this._$strip.find(".main-img").attr("id","").closest(".content-box").css({top:0,left:0});a.attr("id","curr-img").closest(".content-box").css("visibility","visible");var l;0==this._dir?(this._$strip.css(b,-d),l=g,a=0):(l=a,a=-d);l.closest(".content-box").css(b,d);b="top"==b?{top:a}:{left:a};var m=this;this._$strip.stop(!0,!0).animate(b,c,f,function(){m._$strip.find(".main-img:not('#curr-img')").closest(".content-box").css("visibility",
"hidden");m._$strip.find("#curr-img").closest(".content-box").css("visibility","visible");l.closest(".content-box").css({top:0,left:0});m._$strip.css({top:0,left:0});m.startTimer()});this._textSync&&(this._syncId=setTimeout(function(){m._$rotator.trigger("updateLayers")},c))}else this._$strip.css({top:0,left:0}),this._$strip.find(".main-img").closest(".content-box").css({visibility:"hidden",top:0,left:0}),a.attr("id","curr-img").closest(".content-box").css("visibility","visible"),this._textSync&&
this._$rotator.trigger("updateLayers"),this.startTimer()};f.prototype.loadImg=function(a){try{var b=this._$items[a],d=b.data("img"),c=this;d.one("load",function(){b.data("complete")||c.storeImg(b,k(this));a++;a<c._numItems&&c.loadImg(a)}).error(function(){a++;a<c._numItems&&c.loadImg(a)});d.attr("src",b.data("imgurl"));(d[0].complete||"complete"==d[0].readyState)&&d.trigger("load")}catch(f){}};f.prototype.loadAll=function(){for(var a=this,b=0;b<this._$items.length;b++){var d=this._$items[b],c=d.data("img");
c.one("load",{elem:d},function(b){b=b.data.elem;b.data("complete")||a.storeImg(b,k(this))});c.attr("src",d.data("imgurl"));(c[0].complete||"complete"==c[0].readyState)&&c.trigger("load")}};f.prototype.storeImg=function(a,b){if(this._slideTransition){var c=a.find(">a").eq(1);0<c.length&&b.wrap(c)}this._autoCenter&&this.centerImg(b);c=b.attr("src");if("undefined"!=typeof c){var e=c.indexOf("?");0<=e&&(c=c.substring(0,e));b.data("src",c)}a.data("complete",!0)};f.prototype.centerImg=function(a){var b=
a.width(),c=a.height();0<b&&0<c&&a.css({top:(this._screenHeight-c)/2,left:(this._screenWidth-b)/2})};f.prototype.startTimer=function(){if(this._rotate&&null===this._timerId){var a=this,b=Math.round(this._$timer.data("pct")*this._delay);this._$timer.stop(!0).animate({width:this._screenWidth+1},b,"linear");this._timerId=setTimeout(function(b){a._dir=1;a.resetTimer();a._prevIndex=a._currIndex;a._currIndex=a._currIndex<a._numItems-1?a._currIndex+1:0;a.loadContent(a._currIndex)},b)}};f.prototype.resetTimer=
function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(!0).width(0).data("pct",1)};f.prototype.pauseTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(!0);var a=1-this._$timer.width()/(this._screenWidth+1);this._$timer.data("pct",a)};f.prototype.stopList=function(a){a.data.elem._$list.stop(!0)};f.prototype.shuffleItems=function(){for(var a=this._$thumbs.toArray(),b=0;b<this._numItems;b++){var c=Math.floor(Math.random()*this._numItems),e=a[b];a[b]=
a[c];a[c]=e}for(b=0;b<this._numItems;b++)this._$list.append(k(a[b]));this._$thumbs=this._$list.find(">li")};f.prototype.checkEffect=function(a){a==g.random?this._blockEffect=this._hStripeEffect=this._vStripeEffect=!0:a<=g.spiralOut?this._blockEffect=!0:a<=g.verticalSliceRandomFade?this._vStripeEffect=!0:a<=g.horizontalSliceRandomFade&&(this._hStripeEffect=!0)};f.prototype.maximizeImage=function(a,b,c){if(!("auto"===b&&"auto"===c)){var e,f=a.width(),g=a.height();if(!(0==f||0==g)){if("auto"===c)e=b/
f,f=b,c=g*=e;else if("auto"===b)e=c/g,g=c,b=f*=e;else{e=b/f;var k=c/g;e=k>e?k:e;f*=e;g*=e}a.css({width:f,height:g,left:Math.round((b-f)/2),top:Math.round((c-g)/2)})}}};f.prototype.getMaxLayers=function(){var a=this._$thumbs.map(function(){return k(this).find(">div:hidden").not(".tt-text").length}).get();a.sort(function(a,c){return c-a});return a[0]};f.prototype.mouseScrollContent=function(a){var b=a.data.elem;b._$strip.is(":animated")||(0<("undefined"==typeof a.originalEvent.wheelDelta?-a.originalEvent.detail:
a.originalEvent.wheelDelta)?b.prevImg():b.nextImg());return!1};k.fn.cssTransition=function(a,b,c,e,f){var g=k.isFunction(f);return this.each(function(){if(g)k(this).one(F[w],f);k(this).css(P[w],"all "+b+"ms "+q[c]+" "+e+"ms").css(a)})};k.fn.cssTransitionStop=function(a){return this.each(function(){a&&k(this).trigger(F[w]);k(this).css(P[w],"none")})};k.fn.wtRotator=function(a){k(this).bannerRotator(a)};k.fn.bannerRotator=function(a){var b=k.extend({},{width:"auto",height:"auto",thumb_width:24,thumb_height:24,
button_width:24,button_height:24,margin:4,tooltip_width:"auto",tooltip_height:"auto",background_image:"",background_repeat:"repeat",background_position:"center center",auto_start:!0,delay:N,play_once:!1,pause_onmouseover:!1,effect:"fade",duration:M,easing:"",block_size:O,vslice_size:G,hslice_size:G,block_delay:25,vslice_delay:75,hslice_delay:75,cpanel_align:"BR",outside_cpanel:!1,cpanel_onmouseover:!1,thumb_type:"number",select_onmouseover:!1,tooltip_type:"text",tooltip_delay:0,dbuttons_type:"small",
dbuttons_onmouseover:!1,display_playbutton:!0,display_timer:!0,timer_align:"top",text_effect:"fade",text_duration:500,text_easing:"",text_delay:0,text_onmouseover:!1,text_sync:!0,center_image:!0,preload:!0,shuffle:!1,mousewheel:!0,swipe:!0,css_transition:!0},a);return this.each(function(){new f(k(this),b)})}})(jQuery);
